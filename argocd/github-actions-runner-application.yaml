apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  labels:
    app: argocd-applications
    managedBy: argocd
    managementCodeGroup: chrismlee42
    managementCodeProject: argocd-applications
  name: github-actions-runner
  namespace: argocd
spec:
  destination:
    name: in-cluster
    namespace: github-actions-runner
  project: default
  sources:
    - path: argocd
      ref: path
      repoURL: https://github.com/chrismlee42/github-actions-runner-config.git
      targetRevision: HEAD
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-argocd-applications
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/argocd-applications
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-argocd-applications
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-argocd
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/argocd-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-argocd-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-awx
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/awx-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-awx-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-awx-operator
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/awx-operator-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-awx-operator-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-ceph
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/ceph-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-ceph-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-cert-manager
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/cert-manager-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-cert-manager-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-cilium
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/cilium-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-cilium-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-coredns
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/coredns-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-coredns-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-eck
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/eck-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-eck-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-elk
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/elk-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-elk-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-external-dns
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/external-dns-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-external-dns-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-external-secrets
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/external-secrets-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-external-secrets-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-fluentd
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/fluentd-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-fluentd-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-freeipa
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/freeipa-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-freeipa-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-gateway
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/gateway-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-gateway-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-github-actions-runner
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/github-actions-runner-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-gha-runner-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-gha-runner-controller
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/github-actions-runner-controller-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-gha-runner-controller-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-grafana-operator
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/grafana-operator-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-grafana-operator-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-keycloak
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/keycloak-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-keycloak-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-local-path-provisioner
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/local-path-provisioner-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-local-path-provisioner-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-local-storage
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/local-storage-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-local-storage-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-local-storage-provisioner
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/local-storage-provisioner-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-local-storage-provisioner-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-metrics-server
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/metrics-server-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-metrics-server-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-netbox
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/netbox-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-netbox-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-monitoring
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/monitoring-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-monitoring-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-nvidia-k8s-device-plugin
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/nvidia-k8s-device-plugin-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-nvidia-k8s-device-plugin-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # # - chart: actions-runner-controller-charts/gha-runner-scale-set
    # #   helm:
    # #     releaseName: chris-pc-openebs
    # #     valuesObject:
    # #       controllerServiceAccount:
    # #         namespace: github-actions-runner-controller
    # #         name: github-actions-runner-controller-gha-rs-controller
    # #       githubConfigSecret: github-config
    # #       githubConfigUrl: https://github.com/chrismlee42/openebs-config
    # #       minRunners: 0
    # #       namespace: github-actions-runner
    # #   ref: helm-openebs-config
    # #   repoURL: ghcr.io/actions
    # #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-rook
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/rook-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-rook-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-secrets-store-csi-driver
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/secrets-store-csi-driver-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-secrets-store-csi-driver-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-valkey-operator
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/valkey-operator-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-valkey-operator-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
    # - chart: actions-runner-controller-charts/gha-runner-scale-set
    #   helm:
    #     releaseName: chris-pc-vault
    #     valuesObject:
    #       controllerServiceAccount:
    #         namespace: github-actions-runner-controller
    #         name: github-actions-runner-controller-gha-rs-controller
    #       githubConfigSecret: github-config
    #       githubConfigUrl: https://github.com/chrismlee42/vault-config
    #       minRunners: 0
    #       namespace: github-actions-runner
    #   ref: helm-vault-config
    #   repoURL: ghcr.io/actions
    #   targetRevision: 0.13.1
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
    syncOptions:
      - RespectIgnoreDifferences=true
      - ServerSideApply=true
  ignoreDifferences:
    # - group: '*'
    #   kind: '*'
    #   jqPathExpressions:
    #     - |
    #       def parsePath(pathStr):
    #         (pathStr | split(".")[1:]) as $parts | $parts | map(
    #           if test("^\\w+\\[\\d+\\]$") then
    #             capture("(?<key>\\w+)\\[(?<index>\\d+)\\]") | [.key, (.index | tonumber)]
    #           else
    #             [.]
    #           end
    #         ) | add
    #       ;
    #       . as $root | .metadata?.annotations?["custom.argocd.argoproj.io/ignore-path"] as $path | $root | getpath(parsePath($path))
    - # group: core
      kind: Secret
      name: github-config
      namespace: github-actions-runner
      jsonPointers:
        - /data
